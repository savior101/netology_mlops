## Домашнее задание по теме "Kubernetes"

### Задание

1. Ответить на вопросы: ● Что такое k8s? ● В чём преимущество контейнеризации над виртуализацией? ● В чём состоит принцип самоконтроля k8s? ● Как вы думаете, зачем Вам понимать принципы деплоя в k8s? ● Какое из средств управления секретами наиболее распространено в использовании совместно с k8s? ● Какие типы нод есть в k8s, каковы их базовые функции?
2. Написать манифест, который будет содержать в себе следующие условия: ● apiVersion – v1 ● название – netology-ml ● внутри него сервер приложений tomcat версии 8.5.69 с портом 8080 ● наличие 2 реплик ● использование стратегии rollingupdate

### Решение

* Что такое k8s?

Kubernetes (k8s) - система оркестрации контейнеров.

* В чём преимущество контейнеризации над виртуализацией?

Контейнеризация, в отличие от виртуализации, использует только базовые образы ОС, что существенно сокращает потребление системных ресурсов; контейнеры не имеют привязки к аппаратной составляющей, поэтому отсутствуют проблемы с адаптацией под железо, а также гарантируется полная портируемость контейнеров в любую среду; обеспечивают максимальную изолированность сред.

* В чём состоит принцип самоконтроля k8s?

Основная компонента k8s, осуществляющая хелсчекинг, - kubelet - располагается на каждой ноде кластера кубера и гарантирует работоспособность контейнеров внутри пода.

* Как вы думаете, зачем Вам понимать принципы деплоя в k8s?


На данный момент k8s - самый распространенный оркестратор для систем с микросервисной архитектурой, думаю, что у специалиста по работе с данными нет шансов не столкнуться с ним.\
Например, на моем текущем проекте (MLOps платформа IRIS в банке Открытие) абсолютно вся инфраструктура, за исключением hadoop, работает в k8s. Без понимания работы кубера не получится даже задеплоить даг в Airflow (каждая таска - отдельный под), не говоря уже о более тонкой работе с системой.

Кроме того, у меня есть небольшой pet-проект - домашний кластер k3s на базе одноплатных ПК =)

* Какое из средств управления секретами наиболее распространено в использовании совместно с k8s?

Самый распространенный - HashiСorp Vault при онпремис решении. Облачные провайдеры чаще всего используют свои реализации хранилищ секретов.

* Какие типы нод есть в k8s, каковы их базовые функции?

Master-nodes - ноды для управления кластером. Основные компоненты управления: kube-apiserver, etcd, kube-scheduler, kube-controller-manager запускаются именно на них.\
Worker-nodes - ноды, предназначенные для непосредственного развертывания приложений. Основные компоненты: kubelet, kube-proxy, среда выполнения контейнера.

Хотя, например, k3s, отказывается от концепции master/slave (master/worker). В нем присутствует 2 типа нод: server и agent, однако приложения можно деплоить не только на agent, но и на sever.

**Deployment для tomcat [здесь](http://example.com).**